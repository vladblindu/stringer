{"version":3,"file":"index.modern.js","sources":["../src/index.js"],"sourcesContent":["import React from 'react'\n\nexport const StringsContext = React.createContext({})\n\nexport const StringsProvider = ({ langs, defaultLang, strings, children }) => {\n  const [lang, setLang] = React.useState(defaultLang)\n\n  const changeLang = (lang) => {\n    setLang(lang)\n  }\n\n  const context = {\n    lang,\n    changeLang,\n    langs,\n    strings: strings[lang]\n  }\n\n  return (\n    <StringsContext.Provider value={context}>\n      {children}\n    </StringsContext.Provider>\n  )\n}\n\nexport const useStrings = (compName) => {\n  const context = React.useContext(StringsContext)\n  return Object.keys(context.strings)\n    .filter((k) => k.startsWith(compName))\n    .reduce((acc, k) => {\n      // eslint-disable-next-line no-unused-vars\n      const [_, _k] = k.split('.')\n      acc[_k] = context.strings[k]\n      return acc\n    }, {})\n}\n\nexport const useLangs = () => {\n  const { lang, changeLang, langs } = React.useContext(StringsContext)\n  return [lang, changeLang, langs]\n}\n"],"names":["StringsContext","React","createContext","StringsProvider","langs","defaultLang","strings","children","lang","setLang","useState","changeLang","context","useStrings","compName","useContext","Object","keys","filter","k","startsWith","reduce","acc","_","_k","split","useLangs"],"mappings":";;MAEaA,cAAc,GAAGC,KAAK,CAACC,aAAN,CAAoB,EAApB;MAEjBC,eAAe,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,WAAT;AAAsBC,EAAAA,OAAtB;AAA+BC,EAAAA;AAA/B,CAAD,KAA+C;AAC5E,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBR,KAAK,CAACS,QAAN,CAAeL,WAAf,CAAxB;;AAEA,QAAMM,UAAU,GAAIH,IAAD,IAAU;AAC3BC,IAAAA,OAAO,CAACD,IAAD,CAAP;AACD,GAFD;;AAIA,QAAMI,OAAO,GAAG;AACdJ,IAAAA,IADc;AAEdG,IAAAA,UAFc;AAGdP,IAAAA,KAHc;AAIdE,IAAAA,OAAO,EAAEA,OAAO,CAACE,IAAD;AAJF,GAAhB;AAOA,sBACE,oBAAC,cAAD,CAAgB,QAAhB;AAAyB,IAAA,KAAK,EAAEI;AAAhC,KACGL,QADH,CADF;AAKD;MAEYM,UAAU,GAAIC,QAAD,IAAc;AACtC,QAAMF,OAAO,GAAGX,KAAK,CAACc,UAAN,CAAiBf,cAAjB,CAAhB;AACA,SAAOgB,MAAM,CAACC,IAAP,CAAYL,OAAO,CAACN,OAApB,EACJY,MADI,CACIC,CAAD,IAAOA,CAAC,CAACC,UAAF,CAAaN,QAAb,CADV,EAEJO,MAFI,CAEG,CAACC,GAAD,EAAMH,CAAN,KAAY;AAElB,UAAM,CAACI,CAAD,EAAIC,EAAJ,IAAUL,CAAC,CAACM,KAAF,CAAQ,GAAR,CAAhB;AACAH,IAAAA,GAAG,CAACE,EAAD,CAAH,GAAUZ,OAAO,CAACN,OAAR,CAAgBa,CAAhB,CAAV;AACA,WAAOG,GAAP;AACD,GAPI,EAOF,EAPE,CAAP;AAQD;MAEYI,QAAQ,GAAG,MAAM;AAC5B,QAAM;AAAElB,IAAAA,IAAF;AAAQG,IAAAA,UAAR;AAAoBP,IAAAA;AAApB,MAA8BH,KAAK,CAACc,UAAN,CAAiBf,cAAjB,CAApC;AACA,SAAO,CAACQ,IAAD,EAAOG,UAAP,EAAmBP,KAAnB,CAAP;AACD;;;;"}