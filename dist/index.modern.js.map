{"version":3,"file":"index.modern.js","sources":["../src/index.js"],"sourcesContent":["import React from 'react'\nimport urlJoin from 'url-join'\n\nexport const StringsContext = React.createContext({})\n\nexport const StringsProvider = ({\n  langs,\n  defaultLang,\n  initialStrings,\n  httpAgent,\n  children,\n}) => {\n  const [lang, setLang] = React.useState(defaultLang)\n\n  const strings = initialStrings\n\n  const changeLang = (lang) => {\n    const langUrl = lang + '.json'\n    setLang(lang)\n  }\n\n  const context = {\n    lang,\n    changeLang,\n    langs,\n    strings\n  }\n\n  return (\n    <StringsContext.Provider value={context}>\n      {children}\n    </StringsContext.Provider>\n  )\n}\n\nexport const useStrings = (compName) => {\n  const context = React.useContext(StringsContext)\n  return Object.keys(context.strings)\n    .filter((k) => k.startsWith(compName))\n    .reduce((acc, k) => {\n      // eslint-disable-next-line no-unused-vars\n      const [_, _k] = k.split('.')\n      acc[_k] = context.strings[k]\n      return acc\n    }, {})\n}\n\nexport const useLangs = () => {\n  const { lang, changeLang, langs } = React.useContext(StringsContext)\n  return [lang, changeLang, langs]\n}\n"],"names":["StringsContext","React","createContext","StringsProvider","langs","defaultLang","initialStrings","children","useState","lang","setLang","strings","changeLang","context","useStrings","compName","useContext","Object","keys","filter","k","startsWith","reduce","acc","split","_k","useLangs"],"mappings":";;;IAGaA,cAAc,GAAGC,KAAK,CAACC,aAAN,CAAoB,EAApB;IAEjBC,eAAe,GAAG,SAAlBA,eAAkB,OAMzB;AAAA,MALJC,KAKI,QALJA,KAKI;AAAA,MAJJC,WAII,QAJJA,WAII;AAAA,MAHJC,cAGI,QAHJA,cAGI;AAAA,MADJC,QACI,QADJA;;AACI,wBACoBN,KAAK,CAACO,QAAN,CAAeH,WAAf,CADpB;AAAA,MACGI,IADH;AAAA,MACSC,OADT;;AAGJ,MAAMC,OAAO,GAAGL,cAAhB;;AAEA,MAAMM,UAAU,GAAG,SAAbA,UAAa,CAACH,IAAD,EAAU;AAE3BC,IAAAA,OAAO,CAACD,IAAD,CAAP;AACD,GAHD;;AAKA,MAAMI,OAAO,GAAG;AACdJ,IAAAA,IAAI,EAAJA,IADc;AAEdG,IAAAA,UAAU,EAAVA,UAFc;AAGdR,IAAAA,KAAK,EAALA,KAHc;AAIdO,IAAAA,OAAO,EAAPA;AAJc,GAAhB;AAOA,sBACE,oBAAC,cAAD,CAAgB,QAAhB;AAAyB,IAAA,KAAK,EAAEE;AAAhC,KACGN,QADH,CADF;AAKD;IAEYO,UAAU,GAAG,SAAbA,UAAa,CAACC,QAAD,EAAc;AACtC,MAAMF,OAAO,GAAGZ,KAAK,CAACe,UAAN,CAAiBhB,cAAjB,CAAhB;AACA,SAAOiB,MAAM,CAACC,IAAP,CAAYL,OAAO,CAACF,OAApB,EACJQ,MADI,CACG,UAACC,CAAD;AAAA,WAAOA,CAAC,CAACC,UAAF,CAAaN,QAAb,CAAP;AAAA,GADH,EAEJO,MAFI,CAEG,UAACC,GAAD,EAAMH,CAAN,EAAY;AAAA,mBAEFA,CAAC,CAACI,KAAF,CAAQ,GAAR,CAFE;AAAA,QAERC,EAFQ;;AAGlBF,IAAAA,GAAG,CAACE,EAAD,CAAH,GAAUZ,OAAO,CAACF,OAAR,CAAgBS,CAAhB,CAAV;AACA,WAAOG,GAAP;AACD,GAPI,EAOF,EAPE,CAAP;AAQD;IAEYG,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA,0BACQzB,KAAK,CAACe,UAAN,CAAiBhB,cAAjB,CADR;AAAA,MACpBS,IADoB,qBACpBA,IADoB;AAAA,MACdG,UADc,qBACdA,UADc;AAAA,MACFR,KADE,qBACFA,KADE;;AAE5B,SAAO,CAACK,IAAD,EAAOG,UAAP,EAAmBR,KAAnB,CAAP;AACD;;;;"}